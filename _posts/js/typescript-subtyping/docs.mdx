---
title: 'Object.keys()ëŠ” ì™œ string[] íƒ€ì…ì¼ê¹Œ?'
description: 'êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ê³¼ ì§‘í•©ì  íŠ¹ì§•ì„ ì•Œì•„ë³´ì'
tags: ['typescript', 'structural-subtyping', 'object-keys']
coverImage: 'cover.webp'
date: '2024-05-10T13:11:19.101Z'
---

![cover](cover-large.webp 'cover')

## Index

- [TL;DR!](#tldr)
- [ë¬¸ì œ](#ë¬¸ì œ)
- [êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì´ë€](#êµ¬ì¡°ì -ì„œë¸Œ-íƒ€ì´í•‘ì´ë€)
- [í•´ê²°](#í•´ê²°)
- [ë§ˆë¬´ë¦¬](#ë§ˆë¬´ë¦¬)
- [One more thing](#one-more-thing)
- [ì°¸ê³ ](#ì°¸ê³ )

## TL;DR!

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë• íƒ€ì…ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì„ ì±„íƒí•˜ê³  ìˆë‹¤.

`Object.keys()`ëŠ” ëŸ°íƒ€ì„ì—ì„œì˜ ì•ˆì •ì„±ì„ ìœ„í•´ ë„“ì€ íƒ€ì…ì¸ `string[]` íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ ëœë‹¤.

## ë¬¸ì œ

```ts {12}
interface MyObject {
  first: number;
  second: string;
  third: boolean;
}
const parseMyObject = (object: MyObject) => {
  const parsed = { accNum: 0, trueCount: 0 };

  Object.keys(object).forEach((key) => {
    // ğŸš¨ Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'MyObject'.
    // No index signature with a parameter of type 'string' was found on type 'MyObject'.(7053)
    const curValue = object[key];
    if (!isNaN(curValue)) {
      parsed.accNum += curValue;
    } else if (curValue === true) {
      parsed.trueCount++;
    }
  });
  return parsed;
};
```

ê°œë°œì„ í•˜ë‹¤ ë³´ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ê°ì²´ë¥¼ ë§ì´ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì´ë•Œ [Object.keys](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/keys) ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í•­ìƒ `key` ê°’ì´ `string`ìœ¼ë¡œ ì¶”ë¡ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```ts
const keyList = Object.keys(obj) as Array<keyof typeof obj>;
```

`string`ìœ¼ë¡œ [íƒ€ì… ì¶”ë¡ (Type Inference)](https://www.typescriptlang.org/docs/handbook/type-inference.html) ë˜ì—ˆê¸° ë•Œë¬¸ì— ì´í›„ ì½”ë”©ì˜ í¸ì˜ì„±ì„ ìœ„í•´ ë‹¤ì‹œ [íƒ€ì… ë‹¨ì–¸(Type Assertion)](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#type-assertions)ì„ í•˜ê²Œ ëœë‹¤.

ë‹¨ì–¸ì„ í†µí•œ íƒ€ì… ì œì–´ê°€ ë§ˆìŒì„ ë¶ˆí¸í•˜ê²Œ í•˜ê¸° ë•Œë¬¸ì— [ì œë„ˆë¦­ íƒ€ì…](https://www.typescriptlang.org/ko/docs/handbook/2/generics.html)ìœ¼ë¡œë¼ë„ ì¶”ë¡ í•˜ê³  ì‹¶ì–´ ì§„ë‹¤.

```ts title="TypeScript/src/lib/es2015.core.d.ts"
interface ObjectConstructor {
  keys(o: {}): string[];
}
```

í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” [Object.keys\<T\>() ì œë„ˆë¦­ íƒ€ì…ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤](https://github.com/microsoft/TypeScript/blob/36ac4eb700ce596033762b821545753753d13444/src/lib/es2015.core.d.ts#L301-L305).

ì—¬ê¸°ì„œ ì˜ë¬¸ì´ ìƒê¸´ë‹¤.

- ê¸°ì¡´ì˜ key íƒ€ì…ì„ ì™œ ì¶”ë¡ í•˜ì§€ ëª»í• ê¹Œ?
- ì œë„ˆë¦­ íƒ€ì…ì€ ì™œ ì œê³µí•˜ì§€ ì•Šì•˜ì„ê¹Œ?

ì˜¤ëŠ˜ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ë§Œë‚˜ëŠ” ë¯¸ë¬˜í•œ ë‹¹í˜¹ìŠ¤ëŸ¬ì›€ì— ëŒ€í•´ íŒŒí—¤ì³ ë³´ê³ ì í•œë‹¤.

## êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì´ë€

ì•ì—ì„œ ë‹¤ë£¬ ë¬¸ì œì˜ ì´ìœ ëŠ” [íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì„ ê¸°ë°˜](https://www.typescriptlang.org/docs/handbook/type-compatibility.html)ìœ¼ë¡œ í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ì´ì „ì— [ìš°ì•„í•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸](/posts/woowa-type-review#%ED%83%80-%EC%96%B8%EC%96%B4%EC%9D%98-%ED%83%80%EC%9E%85-%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B3%BC-%EB%B9%84%EA%B5%90)ì—ì„œ êµ¬ì¡°ì  íƒ€ì´í•‘ì„ ì ê¹ ì´ì•¼ê¸°í•œ ì ì´ ìˆì—ˆë‹¤.

![duck typing](duck-typing.webp)

> Image Source: [What is duck typing](https://stackoverflow.com/questions/4205130/what-is-duck-typing)

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” [ë• íƒ€ì´í•‘](https://ko.wikipedia.org/wiki/%EB%8D%95_%ED%83%80%EC%9D%B4%ED%95%91)ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” [ë™ì  íƒ€ì´í•‘](https://developer.mozilla.org/ko/docs/Glossary/Dynamic_typing) ì–¸ì–´ì´ë‹¤.

ë”°ë¼ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì„±(ìœ ì—°í•œ ë™ì  íƒ€ì…)ì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©´ì„œ íƒ€ì…ì„ ê°•ì œ([ì •ì  íƒ€ì´í•‘](https://developer.mozilla.org/ko/docs/Glossary/Static_typing))í•˜ê¸° ìœ„í•œ ê³ ë¯¼ì„ í•˜ê²Œ ëœë‹¤.

```ts
type Book = {
  name: string;
};
```

ìœ„ì™€ ê°™ì€ ê°ì²´ íƒ€ì… `Book`ì„ ì„ ì–¸í•˜ê²Œ ë˜ë©´ ì¼ë°˜ì ì¸ [ëª…ëª©ì  íƒ€ì… ì‹œìŠ¤í…œ](https://ko.wikipedia.org/wiki/%EB%AA%85%EB%AA%A9%EC%A0%81_%EC%9E%90%EB%A3%8C%ED%98%95_%EC%B2%B4%EA%B3%84)ì—ì„œëŠ” ë°˜ë“œì‹œ `Book { name: string }` í˜•íƒœì˜ íƒ€ì…ë§Œ ì™€ì•¼ í•œë‹¤.

```ts
const getName = (book: Book) => {
  return book.name;
};

const book1 = { name: '123' };
const book2 = { name: '123', model: 'wow' };
const book3 = { name: '123', model: 'wow', wow: 'line' };

getName(book1); // OK
getName(book2); // OK
getName(book3); // OK
```

í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ìœ„ì™€ ê°™ì€ ëª¨ë“  í˜•íƒœì˜ ê°ì²´ê°€ ê°€ëŠ¥í•˜ë‹¤. ì´ê²ƒì´ ë°”ë¡œ êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì´ë‹¤.

êµ¬ì¡°ì  íƒ€ì… ì‹œìŠ¤í…œì˜ ì£¼ìš” íŠ¹ì„±ì€ <u>**ê°’ì„ í• ë‹¹í•  ë•Œ ì •ì˜ëœ íƒ€ì…ì— í•„ìš”í•œ ì†ì„±ì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í˜¸í™˜ëœë‹¤**</u>ëŠ” ê²ƒì´ë‹¤.

ë”°ë¼ì„œ êµ¬ì¡°ì  íƒ€ì… ì‹œìŠ¤í…œì—ì„œ íƒ€ì…ì€ <u>ê°’ì˜ ì§‘í•©</u>ìœ¼ë¡œ ìƒê°í•˜ë©´ ëœë‹¤.

ê·¸ë ‡ë‹¤ë©´ êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ê³¼ `Object.keys`ì˜ ë°˜í™˜ íƒ€ì…ì—ëŠ” ì–´ë–¤ ì—°ê´€ì´ ìˆëŠ” ê²ƒì¼ê¹Œ?

```ts
class MyObject {
  // https://stackoverflow.com/questions/49464634/difference-between-object-and-object-in-typescript
  // object íƒ€ì…ì€ ì›ì‹œ íƒ€ì…ì„ ì œì™¸í•œ ëª¨ë“  ê°’ì´ ë  ìˆ˜ ìˆë‹¤.
  keys<T extends object>(o: T): (keyof T)[];
}
const keys = MyObject.keys<Book>(book1); // "name"[]
const keys = MyObject.keys<Book>(book2); // "name"[]
const keys = MyObject.keys(book3); // ("name" | "model" | "wow")[]
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë• íƒ€ì… ë•ì— ê°ì²´ëŠ” ëŸ°íƒ€ì„ ë‹¨ê³„ì—ì„œ ë” ë§ì€ ì†ì„±ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ë˜í•œ êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì€ í•„ìš”í•œ ì†ì„±ì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í™•ì¥ëœ ì§‘í•©ê³¼ í˜¸í™˜ë˜ë©° ì—ëŸ¬ë¥¼ ë…¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°ì²´ ì¸ìì— **`T` íƒ€ì…ì˜ ê°’ë§Œ ì¡´ì¬í•œë‹¤ëŠ” ë³´ì¥ì„ í•  ìˆ˜ ì—†ë‹¤**.

```ts
for (const key of Object.keys(book1)) {
  // ğŸš¨ No index signature with a parameter of type 'string' was found on type 'Book'.(7053)
  const value = book1[key];
}
```

ë”°ë¼ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ëŸ°íƒ€ì„ì—ì„œì˜ ì•ˆì •ì„±ì„ ì°¾ê¸° ìœ„í•´ ì¢ì€ íƒ€ì…ì˜ `(keyof T)[]`ê°€ ì•„ë‹Œ ë„“ì€ íƒ€ì…ì¸ `string[]`ìœ¼ë¡œ ì¶”ë¡ í•œë‹¤.

ê´€ë ¨ ë…¼ì˜ëŠ” [#12253](https://github.com/microsoft/TypeScript/pull/12253#issuecomment-263132208) ì´ìŠˆ ì½”ë©˜íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

- [ê¸€ì˜ ë§ë¯¸](/posts/typescript-subtyping#one-more-thing)ì—ì„œ êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì— ëŒ€í•´ ë” ë‹¤ë£¨ë„ë¡ í•˜ê² ë‹¤.

## í•´ê²°

ì´ì œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ `Object.keys`ì˜ ê°’ì„ `string[]`ìœ¼ë¡œ ì¶”ë¡ í•˜ëŠ” ì´ìœ ë¥¼ í™•ì¸í–ˆë‹¤.

ì´ë¥¼ íƒ€ì… ë‹¨ì–¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì¶”ë¡ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?

### íƒ€ì… ê°€ë“œë¥¼ í†µí•œ íƒ€ì… ì¢íˆê¸°

```ts
const book: Book = { name: '123' };
const book3 = { name: '123', model: 'wow', wow: 'line' };

// íƒ€ì… ì¢íˆê¸°
const isBook = (key: string): key is keyof Book => {
  return Object.keys(book).includes(key);
};

for (const key of Object.keys(book3)) {
  // íƒ€ì… ê°€ë“œë¡œ íƒ€ì…ì´ ì¡´ì¬í•˜ëŠ” ì»¨ë””ì…˜ ë¸”ë¡ì´ ìƒê¸°ê²Œ ë¨
  if (isBook(key)) {
    // Book íƒ€ì…ì˜ í‚¤
  } else {
    // êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ìœ¼ë¡œ í™•ì¥ëœ í‚¤
  }
}
```

[íƒ€ì… ê°€ë“œ(Type Guards)](https://www.typescriptlang.org/docs/handbook/2/narrowing.html#typeof-type-guards)ë¥¼ í†µí•œ [íƒ€ì… ì¢íˆê¸°(Type Narrowing)](https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates)ë¥¼ í™œìš©í•˜ë©´ íƒ€ì… ë‹¨ì–¸ì„ í•˜ì§€ ì•Šì•„ë„ ì ì ˆí•˜ê²Œ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ë¬´ì—‡ë³´ë‹¤ <u>ëŸ°íƒ€ì„ì—ì„œë„ ì•ˆì „í•œ ì½”ë“œë¡œ ë³€í™”</u>í–ˆë‹¤.

## ONE MORE THING

```ts
type Book = { name: string };
type Car = { model: string };

const BookOrCar = {} as Book | Car;
// ğŸš¨ Property 'name' does not exist on type 'BookOrCar'.
// Property 'name' does not exist on type 'Car'.(2339)
BookOrCar.name;
// ğŸš¨ Property 'model' does not exist on type 'BookOrCar'.
// Property 'model' does not exist on type 'Book'.(2339)
BookOrCar.model;

const BookAndCar = {} as Book & Car;
BookAndCar.name; // string
BookAndCar.model; // string

type A = 'A';
type B = 'B';

type AorB = A | B; // 'A' | 'B'
type AandB = A & B; // never
```

êµ¬ì¡°ì  ì„œë¸Œ íƒ€ì´í•‘ì„ ì¡°ê¸ˆ ë” ì•Œì•„ë³´ì.

`Book` íƒ€ì…ê³¼ `Car` íƒ€ì…ì´ [ìœ ë‹ˆì˜¨](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types) í˜¹ì€ [êµì°¨](https://www.typescriptlang.org/docs/handbook/2/objects.html#intersection-types) ë  ë•Œ íƒ€ì… ì¶”ë¡ ì´ í˜¼ë€ìŠ¤ëŸ¬ìš´ ë¶€ë¶„ì´ ìˆë‹¤.

`BookOrCar`ëŠ” `{ name: string }` í˜¹ì€ `{ model: string }` íƒ€ì…ì´ ë˜ê¸° ë•Œë¬¸ì— ë‘ ê°’ì´ ê³µì¡´í•´ì•¼ í•œë‹¤ê³  ëŠê»´ì§„ë‹¤. í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‘ ê°’ ëª¨ë‘ ì¶”ë¡ í•˜ì§€ ëª»í•œë‹¤.

ë°˜ëŒ€ë¡œ êµì°¨ íƒ€ì…ì€ `BookAndCar`ì—ì„œëŠ” ëª¨ë“  ê°’ì„ ê°€ì§€ì§€ë§Œ `AandB`ì—ì„œëŠ” `never` íƒ€ì…ì´ ì¶”ë¡ ëœë‹¤.

![what](what.webp 's')

ì•ì—ì„œ "êµ¬ì¡°ì  íƒ€ì… ì‹œìŠ¤í…œì—ì„œì˜ íƒ€ì…ì€ <u>ê°’ì˜ ì§‘í•©</u>ìœ¼ë¡œ ìƒê°í•˜ë©´ ëœë‹¤"ê³  í–ˆë‹¤.

ê° íƒ€ì…ì„ ê°’ì˜ ì§‘í•©ìœ¼ë¡œ ë‚˜ì—´í•´ ë³´ì.

```json title="Book íƒ€ì…ì— ì¶©ì¡±ë˜ëŠ” ê°’ì˜ ì§‘í•©"
{ name: "123" };
{ name: "123", model: "wow" };
{ name: "123", model: "wow", wow: "line" };
ê·¸ ì™¸ `name`ì´ ì¡´ì¬í•˜ëŠ” ê°ì²´
```

```json title="Car íƒ€ì…ì— ì¶©ì¡±ë˜ëŠ” ê°’ì˜ ì§‘í•©"
{ model: "wow" };
{ name: "123", model: "wow" };
{ name: "123", model: "wow", wow: "line" };
ê·¸ ì™¸ `model`ì´ ì¡´ì¬í•˜ëŠ” ê°ì²´
```

```json title="Book | Car íƒ€ì…ì˜ ëª¨ë“  ê°’ì˜ ì§‘í•©"
{ name: "123" };
{ name: "123", model: "wow" };
{ name: "123", model: "wow", wow: "line" };
ê·¸ ì™¸ `name`ì´ ì¡´ì¬í•˜ëŠ” ê°ì²´
{ model: "wow" };
{ name: "123", model: "wow" };
{ name: "123", model: "wow", wow: "line" };
ê·¸ ì™¸ `model`ì´ ì¡´ì¬í•˜ëŠ” ê°ì²´
```

`Book | Car`ì˜ ê²½ìš°ì— Book í˜¹ì€ Car ì¤‘ <u>"í•­ìƒ ì¡´ì¬í•˜ëŠ” ê°’"ì´ ì—†ëŠ” ê²ƒ</u>ì„ í™•ì¸(`name` í˜¹ì€ `model`ì´ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì—†ìŒ) í•  ìˆ˜ ìˆë‹¤.

```json title="Book & Car íƒ€ì…ì˜ ëª¨ë“  ê°’ì˜ ì§‘í•©"
{ name: "123", model: "wow" };
{ name: "123", model: "wow", wow: "line" };
```

ë°˜ë©´ `Book & Car`ì˜ ê²½ìš° "í•­ìƒ ì¡´ì¬í•˜ëŠ” ê°’"ì´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### ê²°ë¡ 

ë”°ë¼ì„œ `Book | Car`ì—ì„œëŠ” í•­ìƒ ì¡´ì¬í•˜ëŠ” ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— `name`, `model` ì–´ëŠ ê°’ë„ ì¡´ì¬í•˜ì§€ ì•Šê²Œ ë˜ì§€ë§Œ `Book & Car`ì—ì„œëŠ” `name`, `model` ëª¨ë‘ í•­ìƒ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë‘ ê°’ ëª¨ë‘ ì¡´ì¬í•˜ê²Œ ëœë‹¤.

## ë§ˆë¬´ë¦¬

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ì„œë„ ì–¸ì–´ì˜ ê·¼ë³¸ì ì¸ ì² í•™ì„ ì´í•´í•˜ì§€ ëª»í•œ ìƒíƒœë¡œ ì‘ì—…í•œ ê²ƒ ê°™ì•„ ë°˜ì„±í•˜ê²Œ ë˜ëŠ” ê³„ê¸°ì˜€ë‹¤.

íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ì„œ ì§€ê¸ˆì²˜ëŸ¼ ë‹¹í˜¹ìŠ¤ëŸ¬ìš´ ë¶€ë¶„ì´ ìˆì—ˆëŠ”ë° ì´ë²ˆ ê¸°íšŒì— ë§ì´ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.

## ì°¸ê³ 

- [Type Compatibility](https://www.typescriptlang.org/ko/docs/handbook/type-compatibility.html)
- [[ë²ˆì—­] ì™œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” Object.keysì˜ íƒ€ì…ì„ ì ì ˆí•˜ê²Œ ì¶”ë¡ í•˜ì§€ ëª»í• ê¹Œìš”?](https://medium.com/@yujso66/ë²ˆì—­-ì™œ-íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ”-object-keysì˜-íƒ€ì…ì„-ì ì ˆí•˜ê²Œ-ì¶”ë¡ í•˜ì§€-ëª»í• ê¹Œìš”-477253b1aafa)
- [Why Object.keys Returns an Array of Strings in TypeScript (And How To Fix It)](https://www.mattstobbs.com/object-keys-typescript/)
- [íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ êµ¬ì¡°ì  íƒ€ì´í•‘](https://www.yongdam.sh/blog/effective-typescript-structural-typing)
- [Object.keys() types refinement, and Object.entries() types bugfix #12253](https://github.com/microsoft/TypeScript/pull/12253#issuecomment-263132208)
